---
title: KDD Cup 2020 大规模共享出行的分配学习赛道思路
tags: [简历, KDD Cup]
---

<meta name="referrer" content="no-referrer" />

关于个人简历中KDD Cup 2020 大规模共享出行的分配学习赛道思路

<!--more-->



# 赛题回顾

应用驱动的时空大数据研究

<img src="https://raw.githubusercontent.com/Rien190/ImgURL/master/img/202211120834840.png" alt="image-20221112083358468" style="zoom:67%;" />

<img src="https://raw.githubusercontent.com/Rien190/ImgURL/master/img/202211120835416.png" alt="image-20221112083502558" style="zoom:67%;" />

问题的难点在于订单会随时出现，出现供需不平衡的情况；每一次决策都会影响未来全局的供需变化。

需要每一次决策都对全局的供需产生积极的影响。

# 解决方案

直观的方式：分配问题（assignment problem）。但是没有考虑动态性，有较大问题。

挑战1：在线分配模型难以预知未来信息

尝试使用朴素贪心的方式。订单请求一旦出现，最近匹配查询。

<img src="https://raw.githubusercontent.com/Rien190/ImgURL/master/img/202211121107429.png" alt="image-20221112110704283" style="zoom:67%;" />

解决挑战1：时间窗口匹配模型。要求模型在时间窗口内必须执行一次分配，

<img src="https://raw.githubusercontent.com/Rien190/ImgURL/master/img/202211121109169.png" alt="image-20221112110917112" style="zoom:67%;" />

贪心方法能取得一定的结果。也有一定的提高空间

挑战2：贪心匹配策略无法捕捉供需实时变化

**匹配结果导致司机位置改变，从而影响供需分布。**

从而把匹配算法优化为序列决策问题，进而强化学习建模。



传统的，离散的优化算法（诸如ICPC）优化目标是明确的，不依赖于数据，可认为是理性主义。

机器学习需要数据驱动，因为优化目标不清楚，需要使用已知函数拟合优化目标，其中函数的一些参数确定不了，故需要调参，属于经验主义。

二者没有绝对的矛盾。



<img src="https://raw.githubusercontent.com/Rien190/ImgURL/master/img/202211121122315.png" alt="image-20221112112225163" style="zoom:67%;" />

<img src="https://raw.githubusercontent.com/Rien190/ImgURL/master/img/202211121124042.png" alt="image-20221112112358578" style="zoom:67%;" />

<img src="https://raw.githubusercontent.com/Rien190/ImgURL/master/img/202211121126260.png" alt="image-20221112112629341" style="zoom:67%;" />

二分图构造过程：

<img src="https://raw.githubusercontent.com/Rien190/ImgURL/master/img/202211121127746.png" alt="image-20221112112708323" style="zoom:67%;" />

<img src="https://raw.githubusercontent.com/Rien190/ImgURL/master/img/202211121129540.png" alt="image-20221112112953309" style="zoom:67%;" />

组合优化匹配：

<img src="https://raw.githubusercontent.com/Rien190/ImgURL/master/img/202211121133916.png" alt="image-20221112113324872" style="zoom:67%;" />

价值函数更新：

<img src="https://raw.githubusercontent.com/Rien190/ImgURL/master/img/202211121134139.png" alt="image-20221112113401935" style="zoom:67%;" />

# 拓展研究

考虑司机公平性问题。问题的主要原因是强化学习中贪心的趋势不可控，在某一轮选择中累计了贪心的趋势，导致公平性出现问题。

<img src="https://raw.githubusercontent.com/Rien190/ImgURL/master/img/202211121139010.png" alt="image-20221112113941035" style="zoom:67%;" />

优化目标：面向司机收益的公平匹配

<img src="https://raw.githubusercontent.com/Rien190/ImgURL/master/img/202211121141823.png" alt="image-20221112114129828" style="zoom:67%;" />

冠军团队经验：

<img src="https://raw.githubusercontent.com/Rien190/ImgURL/master/img/202211121145012.png" alt="image-20221112114517325" style="zoom:67%;" />



# Reference

[北航冠军团队参赛经验分享](https://www.zhihu.com/zvideo/1508456070464495616)